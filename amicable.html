<!DOCTYPE html>
<html>

   <head>
      <title>Amicable Numbers</title>
      <meta charset="utf-8">

      <script language="javascript">

        function factor(num){
          var array = [];
          for( i=1; i<= num; i++ ){
            if(num % i == 0){
              array.push(i);
              console.log(i);
            }
            if(num == i){
              array.pop(i);
              console.log("pop")
            }
          }
          console.log(array);
          return array;
        }

        function amicable(array){
          var sum = 0;
          for(i = 0; i < array.length; i++){
            sum += array[i];
          }
          console.log(sum)
          return sum;
        }

        function display(){
          console.log('test1')
          var num1 = document.getElementById("num1id").value;
          var num2 = document.getElementById("num2id").value;

          var array1 = factor(num1);
          var array2 = factor(num2);

          var sum1 = amicable(array1);
          var sum2 = amicable(array2);

          if(num1 == sum2 && num2 == sum1){
            document.getElementById("result").innerHTML= "The numbers: " +
                        num1 + " and " + num2 + " are amicable";
          }else{
            document.getElementById("result").innerHTML= "The numbers: " +
                        num1 + " and " + num2 + " are not amicable";
          }

          alert("The factors of " + num1 + " are [" + array1.join(", ") + "]\n"
              + "The factors of " + num2 + " are [" + array2.join(", ") + "]")
        }




      </script>
   </head>

   <body>
      <h1>Amicable Numbers</h1>
      <p>A pair of numbers are amicable if their factors (excluding themselves)
        add up to each other.  (A factor is a number that divides evenly into
        another number.) For example, the numbers 220 and 284 are amicable,
        because the factors of 220 are [1, 2, 4, 5, 10, 11, 20, 22, 44, 55, 110]
        and sum to 284,  and the factors of 284 are [1, 2, 4, 71, 142] and sum to 220.</p>
      <form>
    	First number: <input type="text" name="num1" id="num1id"><br>
      Second number: <input type="text" name="num2" id="num2id"><br>
    	<input type="button" value="Check!" id="checkbutton" onclick="display()">
    	</form>

      <div id="result"></div>


   </body>

</html>
